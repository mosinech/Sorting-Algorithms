var app=angular.module("keyCountApp",[]);
app.controller("keyCountCtrl",["$scope",function(a){a.input={};a.input.textarea="";a.results={};a.error=!1;a.countKeys=function(){a.results=keyCountModule.countKeys(a.input.textarea);a.results?(a.input.textarea="",a.error=!1):a.error=!0};QUnit.test("Keys Count Test",function(a){a.deepEqual(keyCountModule.countKeys("'Jane,2\njohn,5'"),{Jane:2,john:5});a.deepEqual(keyCountModule.countKeys("'Ja32ne,sf5\njane,5\nJohn@@,3\njane,2\n jane ,20  '"),{Ja32ne:5,jane:27,"John@@":3});a.deepEqual(keyCountModule.countKeys("'Jane,\n\n\nJane,3\nJohn Jane, 4,\n john Jane  ,,5,,,,\nJane,5.98'"),
{Jane:8,"John Jane":4,"john Jane":5});a.deepEqual(keyCountModule.countKeys("'Jane\nJohnSSS, 4e20\n JohnSSS, 5\n Jane, 4e5\nJane,5\nPeter, 400e-1'"),{Jane:400005,JohnSSS:4E20,Peter:40})})}]);
var keyCountModule=function(){var a={};return{countKeys:function(b){a={};b=b.trim();if(b.match(/'$/gm)&&b.match(/^'/gm))b=b.replace(/^'/g,"").replace(/'$/g,"");else return!1;b=b.split("\n");angular.forEach(b,function(b){var c=/([^,]+),[^0-9]*([0-9]+e[+|-]?[0-9]+|[0-9]+)/g.exec(b);if(c){b=c[1].trim();var d=/([0-9]+)e([+|-]?[0-9]+)/g.exec(c[2]);d?(c=d[1]*Math.pow(10,d[2]),1>c&&(c=0)):c=parseInt(c[2]);a[b]=b in a?a[b]+c:c}});return a}}}();
